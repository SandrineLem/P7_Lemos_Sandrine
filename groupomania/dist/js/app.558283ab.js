(function(e){function t(t){for(var n,r,s=t[0],u=t[1],i=t[2],l=0,f=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&f.push(c[r][0]),c[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,i||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,r=1;r<o.length;r++){var s=o[r];0!==c[s]&&(n=!1)}n&&(a.splice(t--,1),e=u(u.s=o[0]))}return e}var n={},r={app:0},c={app:0},a=[];function s(e){return u.p+"js/"+({about:"about"}[e]||e)+"."+{about:"058f3137"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,u),o.l=!0,o.exports}u.e=function(e){var t=[],o={about:1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=new Promise((function(t,o){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"5831730a"}[e]+".css",c=u.p+n,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var i=a[s],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===n||l===c))return t()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){i=f[s],l=i.getAttribute("data-href");if(l===n||l===c)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete r[e],d.parentNode.removeChild(d),o(a)},d.href=c;var b=document.getElementsByTagName("head")[0];b.appendChild(d)})).then((function(){r[e]=0})));var n=c[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,o){n=c[e]=[t,o]}));t.push(n[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e);var f=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(d);var o=c[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",f.name="ChunkLoadError",f.type=n,f.request=r,o[1](f)}c[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,o){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(u.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(o,n,function(t){return e[t]}.bind(null,n));return o},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var f=0;f<i.length;f++)t(i[f]);var d=l;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"1cbb":function(e,t,o){"use strict";o("5621")},2720:function(e,t,o){},3140:function(e,t,o){e.exports=o.p+"img/icon-left-font-monochrome-black.54ee49de.png"},"418c":function(e,t,o){"use strict";o("2720")},4561:function(e,t,o){},5621:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23"),r=o("3140"),c=o.n(r),a={id:"nav"},s=Object(n["f"])("img",{src:c.a},null,-1),u=Object(n["g"])("Accueil"),i=Object(n["g"])(" | "),l=Object(n["g"])("Mon profil"),f=Object(n["g"])(" | "),d=Object(n["g"])("Se deconnecter");function b(e,t){var o=Object(n["x"])("router-link"),r=Object(n["x"])("router-view");return Object(n["r"])(),Object(n["e"])(n["a"],null,[Object(n["f"])("div",a,[s,Object(n["h"])(o,{to:"/"},{default:Object(n["D"])((function(){return[u]})),_:1}),i,Object(n["h"])(o,{to:"/profile"},{default:Object(n["D"])((function(){return[l]})),_:1}),f,Object(n["h"])(o,{to:"/"},{default:Object(n["D"])((function(){return[d]})),_:1})]),Object(n["h"])(r)],64)}o("b23a");var p=o("6b0d"),m=o.n(p);const h={},O=m()(h,[["render",b]]);var j=O,g=(o("d3b7"),o("3ca3"),o("ddb0"),o("6c02")),v={class:"accueil"};function y(e,t,o,r,c,a){var s=Object(n["x"])("Formulaire"),u=Object(n["x"])("Footer");return Object(n["r"])(),Object(n["e"])(n["a"],null,[Object(n["f"])("div",v,[Object(n["h"])(s)]),Object(n["f"])("footer",null,[Object(n["h"])(u)])],64)}function _(e,t,o,n,r,c){return null}var w={name:"HelloWorld",props:{msg:String}};o("6c39");const k=m()(w,[["render",_],["__scopeId","data-v-6d68e5b6"]]);var S=k,C={class:"card"},A={key:0,class:"card_title"},I={key:1,class:"card_title"},P={key:2,class:"card_subtitle"},x=Object(n["g"])("Tu n'as pas encore de compte ?"),$={key:3,class:"card_subtitle"},E=Object(n["g"])("Tu as déjà un compte ?"),F={class:"form-row"},T={key:4,class:"form-row"},U={class:"form-row"},L={key:5,class:"form-row"},M={key:6,class:"form-row"},N={class:"form-row"},V={key:0},B={key:0};function z(e,t,o,r,c,a){return Object(n["r"])(),Object(n["e"])("div",null,[Object(n["f"])("div",C,["login"==e.mode?(Object(n["r"])(),Object(n["e"])("h1",A,"Connexion")):(Object(n["r"])(),Object(n["e"])("h1",I,"Inscription")),"login"==e.mode?(Object(n["r"])(),Object(n["e"])("p",P,[x,Object(n["f"])("span",{class:"card_action",onClick:t[0]||(t[0]=function(e){return a.switchToCreateAccount()})},"Créer un compte")])):(Object(n["r"])(),Object(n["e"])("p",$,[E,Object(n["f"])("span",{class:"card_action",onClick:t[1]||(t[1]=function(e){return a.switchToLogin()})},"Se connecter")])),Object(n["f"])("div",F,[Object(n["E"])(Object(n["f"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.email=t}),type:"email",class:"form_row_input",placeholder:"Adresse mail"},null,512),[[n["B"],e.email]])]),"create"==e.mode?(Object(n["r"])(),Object(n["e"])("div",T,[Object(n["E"])(Object(n["f"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.Prenom=t}),type:"text",class:"form_row_input",placeholder:"Prénom"},null,512),[[n["B"],e.Prenom]]),Object(n["E"])(Object(n["f"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.nom=t}),type:"text",class:"form_row_input",placeholder:"Nom"},null,512),[[n["B"],e.nom]])])):Object(n["d"])("",!0),Object(n["f"])("div",U,[Object(n["E"])(Object(n["f"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.password=t}),type:"password",class:"form_row_input",placeholder:"Mot de passe"},null,512),[[n["B"],e.password]])]),"login"==e.mode&&"error_login"==e.status?(Object(n["r"])(),Object(n["e"])("div",L," Adresse mail et/ou mot de passe invalide ")):Object(n["d"])("",!0),"create "==e.mode&&"error_create"==e.status?(Object(n["r"])(),Object(n["e"])("div",M," Adresse mail déjà utilisée ")):Object(n["d"])("",!0),Object(n["f"])("div",N,["login"==e.mode?(Object(n["r"])(),Object(n["e"])("button",{key:0,onClick:t[7]||(t[7]=function(e){return a.login()}),class:Object(n["n"])(["button",{"button--disabled":!a.validatedFields}])},["loading"==e.status?(Object(n["r"])(),Object(n["e"])("span",V,"Connexion en cours...")):(Object(n["r"])(),Object(n["e"])("span",{key:1,onClick:t[6]||(t[6]=function(e){return a.logout()})},"Connexion"))],2)):(Object(n["r"])(),Object(n["e"])("button",{key:1,onClick:t[9]||(t[9]=function(e){return a.createAccount()}),class:Object(n["n"])(["button",{"button--disabled":!a.validatedFields}])},["loading"==e.status?(Object(n["r"])(),Object(n["e"])("span",B,"Création en cours...")):(Object(n["r"])(),Object(n["e"])("span",{key:1,onClick:t[8]||(t[8]=function(e){return a.logout()})},"Créer mon compte"))],2))])])])}var D=o("5530"),H=o("5502"),J={name:"Formulaire",data:function(){return{mode:"login",email:"",prenom:"",nom:"",password:""}},mounted:function(){-1!=this.$store.state.userId||this.$router.push("/profile")},computed:Object(D["a"])({validatedFields:function(){return"create"==this.mode?""!=this.email&&""!=this.prenom&&""!=this.nom&&""!=this.password:""!=this.email&&""!=this.password}},Object(H["b"])(["status"])),methods:{logout:function(){this.$store.commit("logout"),this.$router.push("/")},switchToCreateAccount:function(){this.mode="create"},switchToLogin:function(){this.mode="login"},login:function(){var e=this;this.$store.dispatch("login",{email:this.email,password:this.password}).then((function(t){e.$router.push("/profile")}))},createAccount:function(){var e=this;this.$store.dispatch("createAccount",{email:this.email,nom:this.nom,prenom:this.prenom,password:this.password}).then((function(){e.login()}))}}};o("a664");const q=m()(J,[["render",z],["__scopeId","data-v-3482d69c"]]);var W=q,K=o("fd2d"),R={name:"Accueil",components:{HelloWorld:S,Formulaire:W,Footer:K["a"]}};o("b218");const X=m()(R,[["render",y],["__scopeId","data-v-c30a25b8"]]);var G=X,Q=function(e){return Object(n["u"])("data-v-41f5ebda"),e=e(),Object(n["s"])(),e},Y={class:"profile"},Z={class:"card"},ee=Q((function(){return Object(n["f"])("h1",{class:"card_title"},"Voici votre profil ",-1)})),te=["src"],oe={class:"form-row_profile"},ne=Q((function(){return Object(n["f"])("button",{class:"button"},"Supprimer mon compte",-1)}));function re(e,t,o,r,c,a){var s=Object(n["x"])("Footer");return Object(n["r"])(),Object(n["e"])("div",Y,[Object(n["f"])("div",Z,[ee,Object(n["f"])("img",{src:e.src||"avatar_femme.png",class:"avatar_profil",alt:"Avatar pour le profil"},null,8,te),Object(n["f"])("p",null,"Votre nom: "+Object(n["z"])(e.user.nom),1),Object(n["f"])("p",null,"Votre prenom: "+Object(n["z"])(e.user.prenom),1),Object(n["f"])("p",null,"Votre email: "+Object(n["z"])(e.user.email),1),Object(n["f"])("div",oe,[Object(n["f"])("button",{onClick:t[0]||(t[0]=function(e){return a.modifyPass()}),class:"button"},"Modifier mon mot de passe"),Object(n["f"])("button",{onClick:t[1]||(t[1]=function(e){return a.logout()}),class:"button"},"Se deconnecter"),ne])]),Object(n["f"])("footer",null,[Object(n["h"])(s)])])}var ce={name:"Profile",mounted:function(){console.log(this.$store.state.user),-1!=this.$store.state.userId?this.$store.dispatch("getUserInfos"):this.$router.push("/")},computed:Object(D["a"])({},Object(H["b"])({user:"userInfos"})),components:{Footer:K["a"]},methods:{logout:function(){this.$store.commit("logout"),this.$router.push("/")},modifyPass:function(){this.$store.commit("update/profile"),this.$router.push("/update/profile")}}};o("1cbb");const ae=m()(ce,[["render",re],["__scopeId","data-v-41f5ebda"]]);var se=ae,ue=[{path:"/",name:"Accueil",component:G},{path:"/profile",name:"Profile",component:se},{path:"/message",name:"Message",component:function(){return o.e("about").then(o.bind(null,"8e2a"))}},{path:"/Update/Profile",name:"UpdateProfile",component:function(){return o.e("about").then(o.bind(null,"0af9"))}}],ie=Object(g["a"])({history:Object(g["b"])("/"),routes:ue}),le=ie,fe=(o("e9c4"),o("bc3a")),de=o.n(fe),be=(o("54ba"),de.a.create({baseURL:"https://localhost:8080/api/",timeout:1e3,headers:{"X-Custom-Header":"foobar"}})),pe=localStorage.getItem("user");if(pe)try{pe=JSON.parse(pe),be.defaults.headers.common["Authorization"]=pe.token}catch(he){pe={userId:-1,token:""}}else pe={userId:-1,token:""};var me=Object(H["a"])({state:{status:"",user:pe,userInfos:{nom:"",prenom:"",email:"",photo:""}},mutations:{setStatus:function(e,t){e.status=t},logUser:function(e,t){be.defaults.headers.common["Authorization"]=t.token,localStorage.setItem("user",JSON.stringify(t)),e.user=t},userInfos:function(e,t){e.userinfos=t},logout:function(e){e.user={userId:-1,token:""},localStorage.removeItem("user")}},actions:{login:function(e,t){var o=e.commit;return o("setStatus","loading"),new Promise((function(e,n){be.post("/login",t).then((function(t){o("setStatus",""),o("logUser",t.data),e(t)})).catch((function(e){o("setStatus","error_login"),n(e)}))}))},createAccount:function(e,t){var o=e.commit;return o("setStatus","loading"),new Promise((function(e,n){be.post("/createAccount",t).then((function(t){o("setStatus","created"),e(t)})).catch((function(e){o("setStatus","error_create"),n(e)}))}))},getUserInfos:function(e){var t=e.commit;be.post("/infos").then((function(e){t("userInfos",e.data.infos)})).catch((function(){}))}}});Object(n["c"])(j).use(me).use(le).mount("#app")},"6c39":function(e,t,o){"use strict";o("9b52")},"7eed":function(e,t,o){},"9b52":function(e,t,o){},"9cf1":function(e,t,o){},a664:function(e,t,o){"use strict";o("7eed")},b218:function(e,t,o){"use strict";o("4561")},b23a:function(e,t,o){"use strict";o("9cf1")},fd2d:function(e,t,o){"use strict";var n=o("7a23"),r=o("3140"),c=o.n(r),a=function(e){return Object(n["u"])("data-v-62cbe79b"),e=e(),Object(n["s"])(),e},s={id:"Footer"},u=a((function(){return Object(n["f"])("img",{class:"footer_img",src:c.a,alt:""},null,-1)})),i=[u];function l(e,t,o,r,c,a){return Object(n["r"])(),Object(n["e"])("footer",s,i)}var f={name:"Footer",props:{msg:String}},d=(o("418c"),o("6b0d")),b=o.n(d);const p=b()(f,[["render",l],["__scopeId","data-v-62cbe79b"]]);t["a"]=p}});
//# sourceMappingURL=app.558283ab.js.map